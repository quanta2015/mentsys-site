{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project\\\\tutorManagementSystem\\\\mentsys-site\\\\mentsys-site\\\\src\\\\app\\\\layout\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Link, Outlet, useNavigate } from 'react-router-dom';\nimport { inject, observer, MobXProviderContext } from 'mobx-react';\nimport { MENU_LIST } from '@/constant/urls';\nimport { isN } from '@/util/fn';\nimport s from './index.module.less';\nimport logo from '@/img/logo.svg';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Layout = () => {\n  _s();\n  var _store$user, _store$user2;\n  const navigate = useNavigate();\n  const {\n    store\n  } = React.useContext(MobXProviderContext);\n  useEffect(() => {\n    if (!window.token) {\n      navigate('/login');\n    } else {\n      store.menuLoad();\n    }\n  }, []);\n  const selMenu = e => {\n    navigate(e.v);\n  };\n  const doLogout = () => {\n    window.token = null;\n    store.projr = [];\n    store.projh = [];\n    store.docs = [];\n    navigate('/login');\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.nav,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.logo,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u4FE1\\u606F\\u5B66\\u9662\\u7EFC\\u5408\\u5BFC\\u5E08\\u8BFE\\u5916\\u80B2\\u4EBA\\u7BA1\\u7406\\u7CFB\\u7EDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.wrap,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.info,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: (_store$user = store.user) === null || _store$user === void 0 ? void 0 : _store$user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"[ \", (_store$user2 = store.user) === null || _store$user2 === void 0 ? void 0 : _store$user2.uid, \" ]\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.menu,\n          children: [store.menu.map((item, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => selMenu(item),\n            children: item.k\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: doLogout,\n            children: \"\\u9000\\u51FA\\u767B\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Layout, \"pyFSq8X9+Jikh2GfpqR55hNtr1g=\", false, function () {\n  return [useNavigate];\n});\n_c = Layout;\nexport default inject('store')(observer(Layout));\nvar _c;\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["React","useEffect","Link","Outlet","useNavigate","inject","observer","MobXProviderContext","MENU_LIST","isN","s","logo","Layout","navigate","store","useContext","window","token","menuLoad","selMenu","e","v","doLogout","projr","projh","docs","nav","wrap","info","user","name","uid","menu","map","item","i","k"],"sources":["E:/Project/tutorManagementSystem/mentsys-site/mentsys-site/src/app/layout/index.js"],"sourcesContent":["import React,{useEffect} from 'react'\r\nimport { Link,Outlet,useNavigate } from 'react-router-dom'\r\nimport { inject, observer,MobXProviderContext } from 'mobx-react'\r\nimport { MENU_LIST } from '@/constant/urls'\r\nimport {isN} from '@/util/fn'\r\n\r\nimport s from './index.module.less';\r\nimport logo from '@/img/logo.svg'\r\n\r\n\r\n\r\nconst Layout = () => {\r\n  const navigate = useNavigate()\r\n  const { store } = React.useContext(MobXProviderContext)\r\n\r\n\r\n  useEffect(() => {\r\n    if (!window.token) {\r\n      navigate('/login')\r\n    }else{\r\n      store.menuLoad()\r\n    }\r\n  }, []);\r\n\r\n  const selMenu =(e)=>{\r\n    navigate(e.v)\r\n  }\r\n\r\n  const doLogout =()=>{\r\n    window.token = null\r\n    store.projr = []\r\n    store.projh = []\r\n    store.docs  = []\r\n    navigate('/login')\r\n  }\r\n\t \r\n  return (\r\n    <>\r\n      <div className={s.nav}>\r\n        <div className={s.logo}>\r\n          <img src={logo} />\r\n          <span>信息学院综合导师课外育人管理系统</span>\r\n        </div>\r\n\r\n        <div className={s.wrap}>\r\n          <div className={s.info}>\r\n            <p>\r\n              <label>{store.user?.name}</label>\r\n              <span>[ {store.user?.uid} ]</span>\r\n            </p>\r\n          </div>\r\n\r\n          <div className={s.menu}>\r\n            {store.menu.map((item,i)=>\r\n              <span key={i} onClick={()=>selMenu(item)}>{item.k}</span>\r\n            )}\r\n            <span onClick={doLogout}>退出登录</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <Outlet />\r\n    </>\r\n  )\r\n \r\n}\r\n\r\nexport default inject('store')(observer(Layout))\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,SAAS,QAAO,OAAO;AACrC,SAASC,IAAI,EAACC,MAAM,EAACC,WAAW,QAAQ,kBAAkB;AAC1D,SAASC,MAAM,EAAEC,QAAQ,EAACC,mBAAmB,QAAQ,YAAY;AACjE,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAAQC,GAAG,QAAO,WAAW;AAE7B,OAAOC,CAAC,MAAM,qBAAqB;AACnC,OAAOC,IAAI,MAAM,gBAAgB;AAAA;AAAA;AAIjC,MAAMC,MAAM,GAAG,MAAM;EAAA;EAAA;EACnB,MAAMC,QAAQ,GAAGT,WAAW,EAAE;EAC9B,MAAM;IAAEU;EAAM,CAAC,GAAGd,KAAK,CAACe,UAAU,CAACR,mBAAmB,CAAC;EAGvDN,SAAS,CAAC,MAAM;IACd,IAAI,CAACe,MAAM,CAACC,KAAK,EAAE;MACjBJ,QAAQ,CAAC,QAAQ,CAAC;IACpB,CAAC,MAAI;MACHC,KAAK,CAACI,QAAQ,EAAE;IAClB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,OAAO,GAAGC,CAAC,IAAG;IAClBP,QAAQ,CAACO,CAAC,CAACC,CAAC,CAAC;EACf,CAAC;EAED,MAAMC,QAAQ,GAAE,MAAI;IAClBN,MAAM,CAACC,KAAK,GAAG,IAAI;IACnBH,KAAK,CAACS,KAAK,GAAG,EAAE;IAChBT,KAAK,CAACU,KAAK,GAAG,EAAE;IAChBV,KAAK,CAACW,IAAI,GAAI,EAAE;IAChBZ,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,oBACE;IAAA,wBACE;MAAK,SAAS,EAAEH,CAAC,CAACgB,GAAI;MAAA,wBACpB;QAAK,SAAS,EAAEhB,CAAC,CAACC,IAAK;QAAA,wBACrB;UAAK,GAAG,EAAEA;QAAK;UAAA;UAAA;UAAA;QAAA,QAAG,eAClB;UAAA,UAAM;QAAgB;UAAA;UAAA;UAAA;QAAA,QAAO;MAAA;QAAA;QAAA;QAAA;MAAA,QACzB,eAEN;QAAK,SAAS,EAAED,CAAC,CAACiB,IAAK;QAAA,wBACrB;UAAK,SAAS,EAAEjB,CAAC,CAACkB,IAAK;UAAA,uBACrB;YAAA,wBACE;cAAA,yBAAQd,KAAK,CAACe,IAAI,gDAAV,YAAYC;YAAI;cAAA;cAAA;cAAA;YAAA,QAAS,eACjC;cAAA,WAAM,IAAE,kBAAChB,KAAK,CAACe,IAAI,iDAAV,aAAYE,GAAG,EAAC,IAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QAAO;UAAA;YAAA;YAAA;YAAA;UAAA;QAChC;UAAA;UAAA;UAAA;QAAA,QACA,eAEN;UAAK,SAAS,EAAErB,CAAC,CAACsB,IAAK;UAAA,WACpBlB,KAAK,CAACkB,IAAI,CAACC,GAAG,CAAC,CAACC,IAAI,EAACC,CAAC,kBACrB;YAAc,OAAO,EAAE,MAAIhB,OAAO,CAACe,IAAI,CAAE;YAAA,UAAEA,IAAI,CAACE;UAAC,GAAtCD,CAAC;YAAA;YAAA;YAAA;UAAA,QAA6C,CAC1D,eACD;YAAM,OAAO,EAAEb,QAAS;YAAA,UAAC;UAAI;YAAA;YAAA;YAAA;UAAA,QAAO;QAAA;UAAA;UAAA;UAAA;QAAA,QAChC;MAAA;QAAA;QAAA;QAAA;MAAA,QACF;IAAA;MAAA;MAAA;MAAA;IAAA,QACF,eAEN,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA,gBACT;AAGP,CAAC;AAAA,GAtDKV,MAAM;EAAA,QACOR,WAAW;AAAA;AAAA,KADxBQ,MAAM;AAwDZ,eAAeP,MAAM,CAAC,OAAO,CAAC,CAACC,QAAQ,CAACM,MAAM,CAAC,CAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}